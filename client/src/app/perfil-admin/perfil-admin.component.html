<div class="titulo">
    <p>Panel de administración</p>
</div>

<!-- Botones de filtro -->
<div class="filter-buttons">
    <div class="filter-group">
        <button 
            class="md-button" 
            [class.active-filter]="filtroActivo === 'registradas'" 
            (click)="filtrarEmpresas('registradas')">
            Registradas
        </button>
        <button 
            class="md-button" 
            [class.active-filter]="filtroActivo === 'sin-registrar'" 
            (click)="filtrarEmpresas('sin-registrar')">
            Sin Registrar
        </button>
    </div>

    <div class="filter-group">
        <button 
            class="md-button" 
            [class.active-filter]="filtroActivo === 'votaciones'" 
            (click)="filtrarEmpresas('votaciones')">
            Votaciones
        </button>
        <button 
            class="md-button" 
            [class.active-filter]="filtroActivo === 'meets'" 
            (click)="filtrarEmpresas('meets')">
            Meets
        </button>
    </div>
</div>

<!-- Contenedor de empresas filtradas -->
<div *ngIf="filtroActivo === 'registradas'">
    <div class="titulo">
      <p>Empresas registradas</p>
    </div>
    
    <div class="scroll-container-empresas">
      <div *ngFor="let empresa of empresasFiltradas" class="rectangle-empresas" (click)="mostrarDetalles(empresa.id_empresa)">
        <img [src]="empresa.logo" alt="{{ empresa.nombre_empresa }} logo" class="logo-empresa">
        <p class="empresa-nombre">{{ empresa.nombre_empresa }}</p>
        <div class="iconos-container">
          <img *ngIf="empresa.mostrarIconoOK" src="assets/Images/Icon_OK.png" alt="Icono OK" class="icono">
          <img *ngIf="empresa.mostrarIconoSPOT" src="assets/Images/Icon_SPOT.png" alt="Icono Spot" class="icono">
        </div>
      </div>
    </div>
  </div>

<!-- Usuarios sin contraseña -->
<div *ngIf="filtroActivo === 'sin-registrar'">
    <div class="titulo">
        <p>Usuarios SIN REGISTRAR su Empresa</p>
    </div>

    <div class="scroll-container-empresas">
        <div *ngFor="let usuario of usuariosSinPassword" class="rectangle-empresas">
            <div class="logo-container">
                <img src="assets/Images/Icon_SINLOGO.png" alt="Sin Logo" class="logo-empresa">
            </div>
            <p class="empresa-nombre">{{ usuario.email }}</p>
            <div class="iconos-container">
                <img src="assets/Images/Icon_FALTAINFO.png" alt="Icono Sin Información" class="icono-2">
            </div>
        </div>
    </div>
</div>

<!-- Votaciones top 3 -->
<div *ngIf="filtroActivo === 'votaciones'">
    <div class="titulo">
        <p>Votaciones en tiempo real</p>
    </div>

    <div class="top3">
        <div class="podium">
            <ng-container *ngIf="empresas.length > 0">
                <div *ngFor="let empresa of empresas" class="podium-item">
                    <div class="podium-content">
                        <img src="assets/Illustrations/trofeo.png" class="trophy-img">
                        <img [src]="empresa.logo" alt="Logo de {{empresa.nombre}}" class="company-logo" (click)="mostrarDetalles(empresa.id_empresa)">
                    </div>
                    <p class="company-name">{{empresa.nombre}}</p>
                    <p class="votos-text">Votos: {{ empresa.votos }}</p>
                </div>
            </ng-container>
        </div>
    </div>
</div>

<!-- Enlaces a meet -->
<div *ngIf="filtroActivo === 'meets'">
    <div class="titulo">
        <p>Enlaces a Meet</p>
    </div>

    <div class="enlaces">
        <div *ngFor="let empresa of empresas" class="meet-link">
            <a [href]="empresa.url_meet" target="_blank">{{empresa.nombre_empresa}}</a>
        </div>
    </div>
</div>